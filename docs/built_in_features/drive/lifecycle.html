<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Drive Lifecycle · Storage DFMS</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Create the drive &lt;br&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Drive Lifecycle · Storage DFMS"/><meta property="og:type" content="website"/><meta property="og:url" content="https://proximax-storage.github.io/xpx-dfms-devportal-docs/"/><meta property="og:description" content="## Create the drive &lt;br&gt;"/><meta property="og:image" content="https://proximax-storage.github.io/xpx-dfms-devportal-docs/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://proximax-storage.github.io/xpx-dfms-devportal-docs/img/docusaurus.png"/><link rel="shortcut icon" href="/xpx-dfms-devportal-docs/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://proximax-storage.github.io/xpx-dfms-devportal-docs/blog/atom.xml" title="Storage DFMS Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://proximax-storage.github.io/xpx-dfms-devportal-docs/blog/feed.xml" title="Storage DFMS Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i,900"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/xpx-dfms-devportal-docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/xpx-dfms-devportal-docs/css/main.css"/><script src="/xpx-dfms-devportal-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/xpx-dfms-devportal-docs/"><img class="logo" src="/xpx-dfms-devportal-docs/img/logo-proximax.png" alt="Storage DFMS"/><h2 class="headerTitleWithLogo">Storage DFMS</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/xpx-dfms-devportal-docs/docs/getting_started/what_is" target="_self">Docs</a></li><li class=""><a href="/xpx-dfms-devportal-docs/docs/doc4" target="_self">API</a></li><li class=""><a href="/xpx-dfms-devportal-docs/help" target="_self">Help</a></li><li class=""><a href="/xpx-dfms-devportal-docs/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Drive</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/getting_started/what_is">What is ProximaX storage?</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/getting_started/economy">External economy of the drive</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Roles<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/roles/owner">Owner</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/roles/replicator">Replicator</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/roles/verifier">Verifier</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Built-In Features<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/built_in_features/exchange">Exchange</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Drive</h4><ul><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/built_in_features/drive/overview">Overview</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/built_in_features/drive/lifecycle">Lifecycle</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/built_in_features/drive/contract_prolongation">Contract Prolongation</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/built_in_features/drive/state">State</a></li></ul></div><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/built_in_features/challange">Challange</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Protocols<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/protocols/cross_block_protocol">Cross block protocol</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/protocols/fair_streaming">Fair streaming</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/guides/create_drive">Create drive</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/guides/join_to_drive">guides/join_to_drive</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/guides/upload_file">guides/upload_file</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/guides/rename_move_file">guides/rename_move_file</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/guides/download_file">guides/download_file</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/guides/remove_file">guides/remove_file</a></li><li class="navListItem"><a class="navItem" href="/xpx-dfms-devportal-docs/docs/guides/end_drive_contract">guides/end_drive_contract</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Drive Lifecycle</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="create-the-drive-br"></a><a href="#create-the-drive-br" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create the drive <br></h2>
<p>First of all, a user (later the <a href="/xpx-dfms-devportal-docs/docs/roles/owner">owner</a>) needs <a href="/xpx-dfms-devportal-docs/docs/guides/create_drive">to create</a> a new multisign account that will using like drive account. For creating drive <a href="/xpx-dfms-devportal-docs/docs/roles/owner">owner</a> should to define some field like drive size, amount of replicas, duration, price and other. When drive have created the <a href="/xpx-dfms-devportal-docs/docs/roles/owner">owner</a> should transfer the amount XPX to the balance that in future will be exchanged on storage unit for payments to <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a>.</p>
<blockquote>
<p><strong>The example</strong>: <br>
User wants to create a new 1000MB (driveSize) drive for 12 month (duration). To do this, he determines that he wants 4 replicas, but drive can start when 3 <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> joined. Also he determines that 100% signatures (percentApprovers) are needed for accepts the transaction. Every 1 month (billingPeriod) 100 (billingPrice) will be distributed between <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> (if drive have 4 <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> then every <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> obtain 25 (billingPrice / count of <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a>).</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="join-to-the-drive-br"></a><a href="#join-to-the-drive-br" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Join to the drive <br></h2>
<p>Any user can view and, if the conditions are satisfactory, join him. When join transaction have passed success, he makes a storage units deposit and then he becomes part of multisig.</p>
<blockquote>
<p><strong>Note</strong><br>
<a href="/xpx-dfms-devportal-docs/docs/roles/replicator">Replicators</a> deposit equal to drive size.</p>
</blockquote>
<p>Drive will has pending status when minimal amount of <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> will have joined. The main <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicator</a> will be selected (most often this is the first joined <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicator</a>) and he must create transaction to exchange XPX to storage units on drive account. After XPX exchanged to storage units and if it amount on the balance enough drive contract starting up, the status of the disk will change to &quot;in progress&quot;. <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> will obtain reward every billing period automatically and initiate new exchange XPX storage units after ending billing period.</p>
<p>Over time, any number of <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> could join to <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> in drive storage contract. Group of nReliable <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicators</a> provide a better quality of Cross Verification. New <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicator</a> that joins when the drive has no file may move to the standby mode. In general case, at the time of joining <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicator</a> has to fill its memory with all files in the current state of the drive. For this purpose, it initiates the Dir command and downloads each file from Dir results. Payments for data transfer will be rewarded according to the use case Upload.</p>
<p>Actually, drive preparation has no strict time bounds. It is just an initiation of the drive storage contract. If some <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicator</a> will join to drive storage contract later its final reward will be calculated considering its time of joining.</p>
<h2><a class="anchor" aria-hidden="true" id="interacting-with-drive-br"></a><a href="#interacting-with-drive-br" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interacting with drive <br></h2>
<p>During the execution of the drive contract <a href="/xpx-dfms-devportal-docs/docs/roles/owner">owner</a> can interact with drive like on other cloud storages. It is meaning that he can do <a href="/xpx-dfms-devportal-docs/docs/guides/upload_file">uploading</a>, <a href="/xpx-dfms-devportal-docs/docs/guides/remove_file">removing</a>, <a href="/xpx-dfms-devportal-docs/docs/guides/rename_move_file">renaming, moving</a>, <a href="/xpx-dfms-devportal-docs/docs/guides/download_file">downloading</a> files and can structuring them creating and removing directories.</p>
<p>All commands above create new drive file system that have next properties:</p>
<ul>
<li><strong>Drive key</strong> <br>
Key of drive, that will change.</li>
<li><strong>New root hash</strong> <br>
Hash sum of local drive.</li>
<li><strong>Old root hash</strong> <br>
Hash sum of local drive before change.</li>
<li><strong>Add actions</strong> <br>
New files that added. This is an array of a structure that consists of:
<ul>
<li><strong>File size</strong> <br></li>
<li>size of file.</li>
<li><strong>File hash</strong> <br></li>
<li>hash sum of file.</li>
</ul></li>
<li><strong>Remove actions</strong> <br>
An array of hash of each file that removed.</li>
</ul>
<p>The command above is the same for the following actions: upload, delete and modify files. Let's look at each action in more detail.
In case uploading new file user pays streaming price (file size * (N of replicas - 1)) in streaming units.</p>
<blockquote>
<p><strong>Note</strong> <br>
(N replicas - 1) because the user has shared this file with at least one <a href="/xpx-dfms-devportal-docs/docs/roles/replicator">replicator</a>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="end-drive-br"></a><a href="#end-drive-br" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>End drive <br></h2>
<p>When duration of drive end starting so calling <a href="/xpx-dfms-devportal-docs/docs/built_in_features/drive/contract_prolongation">&quot;contract prolongation&quot;</a>. In this period <a href="/xpx-dfms-devportal-docs/docs/roles/owner">owner</a> can decide if he need continuation of the drive contract or it is can finished.
Also drive can end until deadline if <a href="/xpx-dfms-devportal-docs/docs/roles/owner">owner</a> decide that he no longer needs storing files.</p>
<h2><a class="anchor" aria-hidden="true" id="guides"></a><a href="#guides" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Guides</h2>
<ul>
<li><a href="../../guides/create_drive">Creating drive account and preparing drive</a></li>
<li><a href="../../guides/join_to_drive">Joining to drive</a></li>
<li><a href="../../guides/upload_file">Uploading file</a></li>
<li><a href="../../guides/rename_move_file">Renaming/Moving file</a></li>
<li><a href="../../guides/download_file">Downloading file</a></li>
<li><a href="../../guides/remove_file">Removing file</a></li>
<li><a href="../../guides/end_drive_contract">Ending drive contract</a></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/xpx-dfms-devportal-docs/docs/built_in_features/drive/overview"><span class="arrow-prev">← </span><span>Overview</span></a><a class="docs-next button" href="/xpx-dfms-devportal-docs/docs/built_in_features/drive/contract_prolongation"><span>Contract Prolongation</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#create-the-drive-br">Create the drive <br></a></li><li><a href="#join-to-the-drive-br">Join to the drive <br></a></li><li><a href="#interacting-with-drive-br">Interacting with drive <br></a></li><li><a href="#end-drive-br">End drive <br></a></li><li><a href="#guides">Guides</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/xpx-dfms-devportal-docs/" class="nav-home"><img src="/xpx-dfms-devportal-docs/img/favicon.png" alt="Storage DFMS" width="66" height="58"/></a><div><h5>Docs</h5><a href="/xpx-dfms-devportal-docs/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/xpx-dfms-devportal-docs/docs/en/doc2.html">Guides (or other categories)</a><a href="/xpx-dfms-devportal-docs/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/xpx-dfms-devportal-docs/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/xpx-dfms-devportal-docs/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/xpx-dfms-devportal-docs/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 ProximaX</section></footer></div></body></html>